{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/movie.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nconst _c0 = a0 => [\"/movies\", a0, \"edit\"];\nfunction MovieListComponent_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\")(13, \"a\", 8);\n    i0.ɵɵtext(14, \" Editar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function MovieListComponent_tr_23_Template_button_click_15_listener() {\n      const movie_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteMovie(movie_r2.id));\n    });\n    i0.ɵɵtext(16, \" Eliminar \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const movie_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(movie_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(movie_r2.releaseYear ? i0.ɵɵpipeBind2(5, 6, movie_r2.releaseYear, \"yyyy\") : \"N/A\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(movie_r2.gender || \"N/A\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(movie_r2.duration || \"N/A\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((movie_r2.director == null ? null : movie_r2.director.name) || \"N/A\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(9, _c0, movie_r2.id));\n  }\n}\nfunction MovieListComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"p\");\n    i0.ɵɵtext(2, \"Cargando pel\\u00EDculas...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction MovieListComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"p\");\n    i0.ɵɵtext(2, \"No hay pel\\u00EDculas disponibles\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class MovieListComponent {\n  constructor(movieService) {\n    this.movieService = movieService;\n    this.movies = [];\n    this.loading = false;\n  }\n  ngOnInit() {\n    this.loadMovies();\n  }\n  loadMovies() {\n    this.loading = true;\n    this.movieService.getMovies().subscribe({\n      next: movies => {\n        this.movies = movies;\n        this.loading = false;\n      },\n      error: error => {\n        console.error('Error cargando películas:', error);\n        this.loading = false;\n      }\n    });\n  }\n  deleteMovie(id) {\n    if (confirm('¿Estás seguro de que quieres eliminar esta película?')) {\n      this.movieService.deleteMovie(id).subscribe({\n        next: () => {\n          this.movies = this.movies.filter(m => m.id !== id);\n          alert('Película eliminada exitosamente');\n        },\n        error: error => {\n          console.error('Error eliminando película:', error);\n          alert('Error al eliminar la película');\n        }\n      });\n    }\n  }\n  static {\n    this.ɵfac = function MovieListComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MovieListComponent)(i0.ɵɵdirectiveInject(i1.MovieService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MovieListComponent,\n      selectors: [[\"app-movie-list\"]],\n      decls: 26,\n      vars: 3,\n      consts: [[1, \"container\"], [1, \"page-header\"], [1, \"page-title\"], [\"routerLink\", \"/movies/new\", 1, \"btn\", \"btn-primary\"], [1, \"table-container\"], [1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"text-center mb-4\", 4, \"ngIf\"], [1, \"btn\", \"btn-secondary\", \"mr-3\", 3, \"routerLink\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"text-center\", \"mb-4\"]],\n      template: function MovieListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n          i0.ɵɵtext(3, \"Pel\\u00EDculas\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"a\", 3);\n          i0.ɵɵtext(5, \" Nueva Pel\\u00EDcula \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(6, \"div\", 4)(7, \"table\", 5)(8, \"thead\")(9, \"tr\")(10, \"th\");\n          i0.ɵɵtext(11, \"T\\u00EDtulo\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"th\");\n          i0.ɵɵtext(13, \"A\\u00F1o\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"th\");\n          i0.ɵɵtext(15, \"G\\u00E9nero\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"th\");\n          i0.ɵɵtext(17, \"Duraci\\u00F3n\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"th\");\n          i0.ɵɵtext(19, \"Director\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"th\");\n          i0.ɵɵtext(21, \"Acciones\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(22, \"tbody\");\n          i0.ɵɵtemplate(23, MovieListComponent_tr_23_Template, 17, 11, \"tr\", 6);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(24, MovieListComponent_div_24_Template, 3, 0, \"div\", 7)(25, MovieListComponent_div_25_Template, 3, 0, \"div\", 7);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(23);\n          i0.ɵɵproperty(\"ngForOf\", ctx.movies);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.movies.length === 0);\n        }\n      },\n      dependencies: [CommonModule, i2.NgForOf, i2.NgIf, i2.DatePipe, RouterModule, i3.RouterLink],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","RouterModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","MovieListComponent_tr_23_Template_button_click_15_listener","movie_r2","ɵɵrestoreView","_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","deleteMovie","id","ɵɵadvance","ɵɵtextInterpolate","name","releaseYear","ɵɵpipeBind2","gender","duration","director","ɵɵproperty","ɵɵpureFunction1","_c0","MovieListComponent","constructor","movieService","movies","loading","ngOnInit","loadMovies","getMovies","subscribe","next","error","console","confirm","filter","m","alert","ɵɵdirectiveInject","i1","MovieService","selectors","decls","vars","consts","template","MovieListComponent_Template","rf","ctx","ɵɵtemplate","MovieListComponent_tr_23_Template","MovieListComponent_div_24_Template","MovieListComponent_div_25_Template","length","i2","NgForOf","NgIf","DatePipe","i3","RouterLink","encapsulation"],"sources":["C:\\Users\\Lenovo\\Documents\\pruebajabil\\frontend\\src\\app\\components\\movie-list\\movie-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { MovieService } from '../../services/movie.service';\nimport { Movie } from '../../models/movie.model';\n\n@Component({\n  selector: 'app-movie-list',\n  standalone: true,\n  imports: [CommonModule, RouterModule],\n  template: `\n    <div class=\"container\">\n      <div class=\"page-header\">\n        <h1 class=\"page-title\">Películas</h1>\n        <a \n          routerLink=\"/movies/new\" \n          class=\"btn btn-primary\">\n          Nueva Película\n        </a>\n      </div>\n\n      <div class=\"table-container\">\n        <table class=\"table\">\n          <thead>\n            <tr>\n              <th>Título</th>\n              <th>Año</th>\n              <th>Género</th>\n              <th>Duración</th>\n              <th>Director</th>\n              <th>Acciones</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr *ngFor=\"let movie of movies\">\n              <td>{{ movie.name }}</td>\n              <td>{{ movie.releaseYear ? (movie.releaseYear | date:'yyyy') : 'N/A' }}</td>\n              <td>{{ movie.gender || 'N/A' }}</td>\n              <td>{{ movie.duration || 'N/A' }}</td>\n              <td>{{ movie.director?.name || 'N/A' }}</td>\n              <td>\n                <a \n                  [routerLink]=\"['/movies', movie.id, 'edit']\"\n                  class=\"btn btn-secondary mr-3\">\n                  Editar\n                </a>\n                <button \n                  (click)=\"deleteMovie(movie.id)\"\n                  class=\"btn btn-danger\">\n                  Eliminar\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <div *ngIf=\"loading\" class=\"text-center mb-4\">\n        <p>Cargando películas...</p>\n      </div>\n\n      <div *ngIf=\"!loading && movies.length === 0\" class=\"text-center mb-4\">\n        <p>No hay películas disponibles</p>\n      </div>\n    </div>\n  `,\n  styles: []\n})\nexport class MovieListComponent implements OnInit {\n  movies: Movie[] = [];\n  loading = false;\n\n  constructor(private movieService: MovieService) {}\n\n  ngOnInit(): void {\n    this.loadMovies();\n  }\n\n  loadMovies(): void {\n    this.loading = true;\n    this.movieService.getMovies().subscribe({\n      next: (movies) => {\n        this.movies = movies;\n        this.loading = false;\n      },\n      error: (error) => {\n        console.error('Error cargando películas:', error);\n        this.loading = false;\n      }\n    });\n  }\n\n  deleteMovie(id: number): void {\n    if (confirm('¿Estás seguro de que quieres eliminar esta película?')) {\n      this.movieService.deleteMovie(id).subscribe({\n        next: () => {\n          this.movies = this.movies.filter(m => m.id !== id);\n          alert('Película eliminada exitosamente');\n        },\n        error: (error) => {\n          console.error('Error eliminando película:', error);\n          alert('Error al eliminar la película');\n        }\n      });\n    }\n  }\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}